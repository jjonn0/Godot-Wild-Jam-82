[gd_scene load_steps=24 format=4 uid="uid://b5cumcapsyeul"]

[ext_resource type="Script" uid="uid://c5xssi4vk5i0r" path="res://Scenes/Levels/level_2.gd" id="1_1jlnc"]
[ext_resource type="Shader" uid="uid://b5i4urqmwsrf3" path="res://Code/Shaders/stage_light_shader.gdshader" id="2_u40f0"]
[ext_resource type="Texture2D" uid="uid://bud5recs7a743" path="res://Assets/Subway/terminal-rails.png" id="2_ucdhh"]
[ext_resource type="Texture2D" uid="uid://bee23deli7ogt" path="res://Assets/Subway/terminal-floors.png" id="3_oylv5"]
[ext_resource type="Texture2D" uid="uid://cxnuoyro2r7fv" path="res://Assets/Subway/terminal-walls.png" id="4_w2ac1"]
[ext_resource type="Texture2D" uid="uid://ciytxj8wjqo5s" path="res://Assets/Subway/ceiling-long-repeat.png" id="5_8qsmg"]
[ext_resource type="PackedScene" uid="uid://b1cxuuohh707b" path="res://Scenes/player_spawn.tscn" id="5_ovj6s"]
[ext_resource type="Texture2D" uid="uid://dxs65ftrxf2cf" path="res://Assets/Subway/bench.png" id="6_blpqv"]
[ext_resource type="Texture2D" uid="uid://bx3ge47ntcmeu" path="res://Assets/Subway/vendhing and trashcan.png" id="7_1jlnc"]
[ext_resource type="PackedScene" uid="uid://8x445a6f2nx7" path="res://Scenes/train_spawner.tscn" id="7_fphuk"]
[ext_resource type="PackedScene" uid="uid://crdty23ng6ltk" path="res://Scenes/Enemies/boss.tscn" id="10_1jlnc"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_0x4y1"]
shader = ExtResource("2_u40f0")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_oylv5"]
texture = ExtResource("2_ucdhh")
1:1/size_in_atlas = Vector2i(2, 1)
1:1/0 = 0
1:1/0/texture_origin = Vector2i(-8, -8)
1:1/0/z_index = 1
4:1/size_in_atlas = Vector2i(2, 1)
4:1/0 = 0
4:1/0/texture_origin = Vector2i(-8, -8)
4:1/0/z_index = 1
7:1/size_in_atlas = Vector2i(2, 1)
7:1/0 = 0
7:1/0/texture_origin = Vector2i(-8, -8)
7:1/0/z_index = 1

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_w2ac1"]
texture = ExtResource("3_oylv5")
1:1/size_in_atlas = Vector2i(2, 2)
1:1/0 = 0
1:1/0/texture_origin = Vector2i(-8, -8)
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 24, -8, 24, 24, -8, 24)
4:1/size_in_atlas = Vector2i(2, 2)
4:1/0 = 0
4:1/0/texture_origin = Vector2i(-8, -8)
4:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 24, -8, 24, 24, -8, 24)
7:1/size_in_atlas = Vector2i(2, 2)
7:1/0 = 0
7:1/0/texture_origin = Vector2i(-8, -8)
7:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 24, -8, 24, 24, -8, 24)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ovj6s"]
texture = ExtResource("4_w2ac1")
0:0/size_in_atlas = Vector2i(2, 4)
0:0/0 = 0
0:0/0/texture_origin = Vector2i(-8, 24)
0:0/0/z_index = -3
3:0/size_in_atlas = Vector2i(2, 4)
3:0/0 = 0
3:0/0/texture_origin = Vector2i(-8, 24)
3:0/0/z_index = -3
6:0/size_in_atlas = Vector2i(2, 4)
6:0/0 = 0
6:0/0/texture_origin = Vector2i(-8, 24)
6:0/0/z_index = -3

[sub_resource type="TileSet" id="TileSet_w2ac1"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_oylv5")
sources/1 = SubResource("TileSetAtlasSource_w2ac1")
sources/2 = SubResource("TileSetAtlasSource_ovj6s")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_u40f0"]
shader = ExtResource("2_u40f0")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_fphuk"]
texture = ExtResource("5_8qsmg")
1:1/size_in_atlas = Vector2i(10, 5)
1:1/0 = 0
1:1/0/texture_origin = Vector2i(-72, -32)
1:1/0/z_index = 3
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 152, -8, 152, -2, -8, -2)

[sub_resource type="TileSet" id="TileSet_pnnky"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_fphuk")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_uqiic"]
shader = ExtResource("2_u40f0")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_u40f0"]
texture = ExtResource("6_blpqv")
0:0/size_in_atlas = Vector2i(2, 2)
0:0/0 = 0
0:0/0/texture_origin = Vector2i(-8, 8)
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -2, 22, -2, 22, 8, -6, 8)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_0x4y1"]
texture = ExtResource("7_1jlnc")
texture_region_size = Vector2i(2, 26)
0:0/size_in_atlas = Vector2i(9, 1)
0:0/0 = 0
0:0/0/texture_origin = Vector2i(-1, 5)
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -18, 10, -18, 10, 8, -6, 8)
16:0/size_in_atlas = Vector2i(9, 1)
16:0/0 = 0
16:0/0/texture_origin = Vector2i(-1, 5)
16:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -18, 8, -18, 8, 8, -8, 8)
31:0/size_in_atlas = Vector2i(10, 1)
31:0/0 = 0
31:0/0/texture_origin = Vector2i(1, 5)
31:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -10, 8, -10, 8, 8, -8, 8)

[sub_resource type="TileSet" id="TileSet_fphuk"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_u40f0")
sources/1 = SubResource("TileSetAtlasSource_0x4y1")

[node name="Level2" type="Node" node_paths=PackedStringArray("boss_enemy")]
script = ExtResource("1_1jlnc")
boss_enemy = NodePath("Boss")
camera_left_cutoff = 0
camera_bottom_cutoff = 0
metadata/_custom_type_script = "uid://dfbt6vwhsigl1"

[node name="CanvasModulate" type="CanvasModulate" parent="."]
visible = false
position = Vector2(-36, 9)
color = Color(0.329158, 0.329158, 0.329158, 1)

[node name="FloorWallTileMapLayer" type="TileMapLayer" parent="."]
material = SubResource("ShaderMaterial_0x4y1")
tile_map_data = PackedByteArray("AAAAAP7/AQABAAEAAAACAP7/AQAEAAEAAAAEAP7/AQAHAAEAAAAAAP//AAABAAEAAAACAP//AAAEAAEAAAAEAP//AAAHAAEAAAAAAP3/AgAAAAAAAAACAP3/AgADAAAAAAAEAP3/AgAGAAAAAAAGAP3/AgAAAAAAAAAIAP3/AgADAAAAAAAKAP3/AgAGAAAAAAAMAP3/AgAGAAAAAAAOAP3/AgAGAAAAAAAQAP3/AgADAAAAAAASAP3/AgADAAAAAAAUAP3/AgADAAAAAAAWAP3/AgADAAAAAAAYAP3/AgADAAAAAAAaAP3/AgAGAAAAAAAcAP3/AgADAAAAAAAGAP7/AQAEAAEAAAAIAP7/AQAHAAEAAAAKAP7/AQAEAAEAAAAMAP7/AQAHAAEAAAAOAP7/AQAEAAEAAAAQAP7/AQABAAEAAAASAP7/AQABAAEAAAAUAP7/AQABAAEAAAAWAP7/AQAHAAEAAAAYAP7/AQAHAAEAAAAaAP7/AQAEAAEAAAAcAP7/AQAEAAEAAAAGAP//AAAHAAEAAAAIAP//AAAHAAEAAAAKAP//AAABAAEAAAAMAP//AAAHAAEAAAAOAP//AAAEAAEAAAAQAP//AAAHAAEAAAASAP//AAABAAEAAAAUAP//AAAHAAEAAAAWAP//AAABAAEAAAAYAP//AAABAAEAAAAaAP//AAAHAAEAAAAcAP//AAABAAEAAAA=")
tile_set = SubResource("TileSet_w2ac1")

[node name="CeilingTileMapLayer" type="TileMapLayer" parent="."]
material = SubResource("ShaderMaterial_u40f0")
tile_map_data = PackedByteArray("AAAAAPr/AAABAAEAAAAKAPr/AAABAAEAAAAUAPr/AAABAAEAAAA=")
tile_set = SubResource("TileSet_pnnky")

[node name="ObstacleTileMapLayer" type="TileMapLayer" parent="."]
material = SubResource("ShaderMaterial_uqiic")
tile_map_data = PackedByteArray("AAAGAP3/AAAAAAAAAAAJAP3/AQAAAAAAAAALAP3/AQAQAAAAAAANAP3/AQAfAAAAAAA=")
tile_set = SubResource("TileSet_fphuk")

[node name="PlayerSpawn" parent="." instance=ExtResource("5_ovj6s")]
position = Vector2(33, -45)

[node name="TrainSpawner" parent="." instance=ExtResource("7_fphuk")]
position = Vector2(1564, -29)

[node name="Boss" parent="." instance=ExtResource("10_1jlnc")]
position = Vector2(-54, -60)
